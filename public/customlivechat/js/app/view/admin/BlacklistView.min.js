!function(t,i,s){t.BlacklistView=Backbone.View.extend({events:{"click .save":"save"},syncing:!1,initialize:function(){this.$el.html(t.template.blacklist()),this.$input=this.$("textarea"),this.$save=this.$(".save"),this.$loading=this.$(".customer-chat-content-loading-icon").hide()},disable:function(){this.syncing=!0,this.$save.addClass("button-disabled"),this.$loading.fadeIn()},enable:function(){var i=this;setTimeout(function(){i.$save.removeClass("button-disabled"),i.$loading.fadeOut(),i.syncing=!1},500)},save:function(){this.disable(),s.post(i.updateBlacklistPath,{contents:this.$input.val()},s.proxy(function(i){i.success||t.view.dialogs.message(t.service.i18n.trans("error"),t.service.i18n.trans("error.saving.file")),this.enable()},this))}})}(window.Application,window.chatConfig,jQuery);